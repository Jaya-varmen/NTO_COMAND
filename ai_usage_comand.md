В проекте я использовал *Qwen Max* как вспомогательный инструмент. ИИ применялся для генерации черновых вариантов отдельных функций и для консультаций по логике фичей. Финальный код был полностью переработан.

## Какие функции были сгенерированы ИИ (черновые варианты)

1. **add_temporal_features**  
   ИИ предложил базовую структуру функции для создания временных признаков.  
   **Моя доработка:**  
   - исправил ошибки с datetime → убрал Timestamp из фичей;  
   - добавил защиту от временных утечек;  
   - привёл типы к float и убрал нечисловые признаки.

1. **add_history_features**  
   **Моя доработка:**  
   - добавил расширенные фичи: количество взаимодействий, прочитано/не прочитано, средний рейтинг, частота активности;  
   - изменил группировки под формат train.csv;  
   - устранил несколько ошибок в типах данных.

1. **add_book_genre_features**  
   **Моя доработка:**  
   - добавил признаки "любимый жанр пользователя", "совпадает жанр книги и предпочтения";  
   - исправил ошибку с категориальными типами для CatBoost.

1. **generate_candidates_with_negatives**  
   **Моя доработка:**  
   - переписал способ выбора негативов (по популярности и уникальности);  
   - исправил ошибки, связанные с дубликатами book_id;  
   - привёл формат данных к требованиям ранжирующих моделей.

- ИИ использовался для подсказок структуры, но ни одна функция не осталась в том виде, в котором она была сгенерирована.  

Все фрагменты были доработаны вручную: я менял логику, переписывал выражения и исправлял ошибки.
В ходе обсуждения мне qwen предложил использовать следующие фичи, подходящие под задачу ранжирования книг: 

- **история взаимодействий пользователя с книгами** (количество просмотров, прочтений, рейтинги, частота активности);

- **временные признаки** (динамика активности пользователя, временная давность событий, свежесть книги);

- **трендовые признаки популярности** (изменение интереса к книге во времени, активность книги в последнем периоде);

- **книжные признаки** (общая популярность, активность, агрегаты по книге);

- **жанровые признаки** (предпочтения пользователя по жанрам, совпадение жанров пользователя и книги).

Далее эти группы признаков были развёрнуты в конкретные функции и вычисления.